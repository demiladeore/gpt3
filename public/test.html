<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    Add person:
    <input type="text" placeholder="add person" />
    <input
      type="button"
      name="submit"
      value="add person"
      type="submit"
      id="addperson"
    />
    <ul></ul>
    <script>
      //   (function () {
      let DOM = {
        input: document.querySelector('input[type="text"]'),
        button: document.getElementById("addperson"),
        ul: document.querySelector("ul"),
        del: document.createElement("button"),
      };
      let sayName = function (field, inp) {
        // console.log(field);
        const li = document.createElement("li");
        const textnode = document.createTextNode(`${inp}`);
        // const del = document.createElement("button");
        DOM.del.setAttribute("style", "margin-left: 3rem;");
        const delIcon = document.createTextNode("X");
        console.log(li);
        DOM.del.appendChild(delIcon);

        li.appendChild(textnode);
        li.appendChild(DOM.del);
        field.appendChild(li);
        // field.appendChild(DOM.del);

        // ul.appendChild(`<li>${input.value}</li>`);
      };
      const person = {
        person: ["will", "asake", "aweke"],
        init: function () {
          this.bindEvents();
          //   this.cacheDom();
          this.render();
        },

        render: function () {
          this.person.forEach((element) => {
            // ul.appendChild(`<li>${element}</li>`);
            // this.cacheDom();
            sayName(DOM.ul, element);
          });
        },

        bindEvents: function () {
          // console.log(this.button);
          DOM.button.addEventListener("click", function say() {
            console.log(DOM.button);
            console.log(DOM.input);
            sayName(DOM.ul, DOM.input.value);
          });
        },
        // sayName: function (field, inp) {
        //   // console.log(field);
        //   const li = document.createElement("li");
        //   const textnode = document.createTextNode(`${inp}`);
        //   const del = document.createElement("button");
        //   del.setAttribute("style", "margin-left: 3rem;");
        //   const delIcon = document.createTextNode("X");
        //   console.log(li);
        //   del.appendChild(delIcon);

        //   li.appendChild(textnode);
        //   //   li.appendChild(del);
        //   field.appendChild(li);
        //   field.appendChild(del);

        //   // ul.appendChild(`<li>${input.value}</li>`);
        // },
        delete: function () {
          this.person.filter((element) => DOM.ul.li.textcontent !== element);
          this.render();
        },
      };
      person.init();
      //   })();
    </script>
  </body>
</html>
